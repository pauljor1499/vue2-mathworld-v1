export let MathWorld = [
    {
        items: [
            {
                code: "0001",
                type: "MW",
                title: "Assignment 1",
                submitted: "20/28",
                status: "",
                description: "This is the description for assignment 1",
                items: [
                    {
                        criteria: {
                            unit: "",
                            category: "",
                            difficulty: "",
                            teks: "",
                        },
                    },

                    {
                        question_types: [],
                    },
                ],
                set_test: {
                    date: {
                        start: "11/07/2022, 05:37 PM",
                        end: "11/07/2022, 11:41 PM",
                    },
                    assigned_classes: ["ALG1-S1", "ALG2-S2", "ALG3-S3"],
                },
                choices: [
                    {
                        title: "Multiple-choice",
                        total: 50,
                    },

                    {
                        title: "Open-response",
                        total: 10,
                    },

                    {
                        title: "Range",
                        total: 10,
                    },

                    {
                        title: "Random items",
                        total: 10,
                    },

                    {
                        title: "Random answers",
                        total: 10,
                    },
                ],
                selected_questions: [
                    {
                        id: "0005",
                        points: "3",
                        question_type: "Range",
                        algebra_term: "Binomial",
                        unit: "Unit 3",
                        category: "Category 2",
                        difficulty: "Average",
                        teks: ["TEKS-S5"],
                        title: "Question 5",
                        question:
                            "This is a math world question 5. Lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsu?",
                        options: ["Option 1", "Option 2", "Option 3"],
                    },

                    {
                        id: "0003",
                        points: "3",
                        question_type: "Range",
                        algebra_term: "Binomial",
                        unit: "Unit 3",
                        category: "Category 2",
                        difficulty: "Average",
                        teks: ["TEKS-S3", "TEKS-S19", "TEKS-S11"],
                        title: "Question 3",
                        question:
                            "This is a math world question 3. Lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsu?",
                        options: ["Option 1", "Option 2", "Option 3"],
                    },
                ],
            },

            {
                code: "0002",
                type: "MW",
                title: "Assignment 2",
                submitted: "20/28",
                status: "",
                description: "",
                items: [
                    {
                        criteria: {
                            unit: "",
                            category: "",
                            difficulty: "",
                            teks: "",
                        },
                    },

                    {
                        question_types: [],
                    },
                ],
                set_test: {
                    date: {
                        start: "11/05/2022, 08:30 AM",
                        end: "11/12/2022, 04:30 PM",
                    },
                    gned_classes: [],
                },
                choices: [
                    {
                        title: "Multiple-choice",
                        total: 50,
                    },

                    {
                        title: "Open-response",
                        total: 10,
                    },

                    {
                        title: "Range",
                        total: 10,
                    },

                    {
                        title: "Random items",
                        total: 10,
                    },

                    {
                        title: "Random answers",
                        total: 10,
                    },
                ],
                selected_questions: [],
            },

            {
                code: "0003",
                type: "MW",
                title: "Assignment 3",
                submitted: "0/28",
                status: "",
                description: "",
                items: [
                    {
                        criteria: {
                            unit: "",
                            category: "",
                            difficulty: "",
                            teks: "",
                        },
                    },

                    {
                        question_types: [],
                    },
                ],
                set_test: {
                    date: {
                        start: "11/10/2022, 08:30 AM",
                        end: "11/10/2022, 04:30 PM",
                    },
                    gned_classes: [],
                },
                choices: [
                    {
                        title: "Multiple-choice",
                        total: 50,
                    },

                    {
                        title: "Open-response",
                        total: 10,
                    },

                    {
                        title: "Range",
                        total: 10,
                    },

                    {
                        title: "Random items",
                        total: 10,
                    },

                    {
                        title: "Random answers",
                        total: 10,
                    },
                ],
                selected_questions: [],
            },
        ],

        all_questions: [
            {
                id: "0001",
                points: "2",
                question_type: "Multiple-choice",
                algebra_term: "Monomial",
                unit: "Unit 1",
                category: "Category 1",
                difficulty: "Easy",
                teks: ["TEKS-S1", "TEKS-S2", "TEKS-S14"],
                title: "Question 1",
                question:
                    "This is a math world question 1. Lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsu?",
                options: ["Option 1", "Option 2", "Option 3"],
            },

            {
                id: "0002",
                points: "2",
                question_type: "Open Response",
                algebra_term: "Polynomial",
                unit: "Unit 2",
                category: "Category 3",
                difficulty: "Difficult",
                teks: ["TEKS-S1", "TEKS-S8", "TEKS-S13"],
                title: "Question 2",
                question:
                    "This is a math world question 2. Lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsu?",
                options: ["Option 1", "Option 2", "Option 3"],
            },

            {
                id: "0003",
                points: "3",
                question_type: "Range",
                algebra_term: "Binomial",
                unit: "Unit 3",
                category: "Category 2",
                difficulty: "Average",
                teks: ["TEKS-S3", "TEKS-S19", "TEKS-S11"],
                title: "Question 3",
                question:
                    "This is a math world question 3. Lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsu?",
                options: ["Option 1", "Option 2", "Option 3"],
            },

            {
                id: "0004",
                points: "2",
                question_type: "Range",
                algebra_term: "Binomial",
                unit: "Unit 3",
                category: "Category 2",
                difficulty: "Average",
                teks: ["TEKS-S4", "TEKS-S3", "TEKS-S5"],
                title: "Question 4",
                question:
                    "This is a math world question 4. Lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsu?",
                options: ["Option 1", "Option 2", "Option 3"],
            },

            {
                id: "0005",
                points: "3",
                question_type: "Range",
                algebra_term: "Binomial",
                unit: "Unit 3",
                category: "Category 2",
                difficulty: "Average",
                teks: ["TEKS-S5", "TEKS-S12", "TEKS-S16"],
                title: "Question 5",
                question:
                    "This is a math world question 5. Lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsu?",
                options: ["Option 1", "Option 2", "Option 3"],
            },
        ],

        new_assignment: {
            code: "",
            type: "MW",
            title: "",
            submitted: "0/28",
            status: "",
            description: "",
            items: [],
            set_test: {
                date: {
                    start: "",
                    end: "",
                },
                assigned_classes: [],
            },
            choices: [
                {
                    title: "Multiple-choice",
                    total: 0,
                },

                {
                    title: "Open Response",
                    total: 0,
                },

                {
                    title: "Range",
                    total: 0,
                },

                {
                    title: "Random Items",
                    total: 0,
                },

                {
                    title: "Random Answers",
                    total: 0,
                },
            ],
            selected_questions: [],
        },
    },
];

export class MathWorldService {
    getAllAssignments() {
        function formatDate(date) {
            return new Date(date).toLocaleString("en-US", {
                year: "numeric",
                month: "2-digit",
                day: "2-digit",
                hour: "2-digit",
                minute: "2-digit",
            });
        }

        let today = formatDate(new Date());
        let assignments = MathWorld[0].items;

        for (let item in assignments) {
            if (
                today < formatDate(assignments[item].set_test.date.start) &&
                today < formatDate(assignments[item].set_test.date.end)
            ) {
                assignments[item].status = "Undeployed";
            } else if (
                today >= formatDate(assignments[item].set_test.date.start) &&
                today <= formatDate(assignments[item].set_test.date.end)
            ) {
                assignments[item].status = "Open";
            } else if (
                today > formatDate(assignments[item].set_test.date.start) &&
                today > formatDate(assignments[item].set_test.date.end)
            ) {
                assignments[item].status = "Closed";
            }
        }
        return MathWorld[0].items;
    }

    getAssignmentByCode(assignment_code) {
        let index = MathWorld[0].items.findIndex(
            (item) => item.code === assignment_code
        );

        if (index >= 0) {
            return MathWorld[0].items[index];
        } else {
            window.location.replace("http://localhost:8080/teacher/404");
        }
    }

    deleteAssignmentByCode(assignment_code) {
        var all_assignments = MathWorld[0].items;
        var index = all_assignments.findIndex(
            (item) => item.code === assignment_code
        );
        all_assignments.splice(index, 1);
    }
}
